@using DecisionPointBAL.Implementation;
@using DecisionPointBAL.Implementation.Request;
@using System.Globalization
<!DOCTYPE HTML>
<html lang='en'>
<head>
    <meta charset='utf-8' />
    <meta content='IE=Edge,chrome=1' http-equiv='X-UA-Compatible' />
    <title>Non Client SetUp Layout</title>
    <meta content='noindex' name='robots' />

    <script src="~/Scripts/tinymce/js/tinymce/tinymce.min.js"></script>
    <script src="~/Scripts/TrainingDocument.js"></script>
    <script src="~/Scripts/tinymce/js/tinymce/tinymce.min.js"></script>
    @Styles.Render("~/Content/css/Dashboardcss")
    @Scripts.Render("~/bundles/dashboard")
    <link href="~/Content/css/Register/screen.css" rel="stylesheet" />
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>
    <script src="~/Scripts/new.js" type="text/javascript"></script>

    <link rel="stylesheet" href="~/Content/css/UserDashBoard/bootstrap.min.css" />
    <link rel="stylesheet" href="~/Content/css/UserDashBoard/bootstrap-datetimepicker.min.css" />
    <script src="~/Scripts/bootstrap.min.js"></script>
    <script src="~/Scripts/bootstrap-datetimepicker.min.js"></script>



    <style>
         .active-new
        {
           
        }
       
            .active-new a
            {
                color: black;
            }

                .active-new a:hover
                {
                    color: #666666;
                    background: none !important;
                }

            .active-new .number-div {
                font-size: 22px;
                padding: 4px 2px 0 0;
            }

            .active-new .text-div {
                font-size: 21px;
                font-weight: normal;
                height: 31px;
                padding-top: 4px;
                position: relative;
                color:#fff;
            }

            .active-new .dot_div {
                position: absolute;
                background: url(../Content/images/dot-img.png) no-repeat right center;
                right: -32px;
                top: 12px;
                width: 13px;
                height: 3px;
            }


        .d-active-new
        {
            color: #FFFFFF;
            margin-top: 10px;
            padding-bottom: 5px;
        }

            .d-active-new a {
                color: #7d7978;
            }
 li.d-active-new a:hover
        {
            background-color: #f7f7f7 !important;
            color: #000;
        }
        .number-div {
            float: left;
            height: 20px;
            padding: 0 2px 0 0;
        }

        .text-div {
            width: auto;
            float: left;
            height: 20px;
            font-weight: normal;
            position: relative;
            color:#000;
        }

        #company-setup .nav li {
            margin-right: 22px !important;
        }

        .gray_back {
            background: url("../Content/images/layoutimg-bg.jpg") no-repeat scroll left top / cover  #f7f7f7;
            padding: 10px 0 10px 30px;
        }

            .gray_back .nav {
                margin-bottom: 0;
            }

        .dot_div {
            position: absolute;
            background: url(../Content/images/dot-img.png) no-repeat right center;
            right: -32px;
            top: 8px;
            width: 13px;
            height: 3px;
        }

        #ConfirmSuperAdmindiv {
            width: 150px;
            height: 150px;
            padding: 0;
            background-color: #063;
            position: relative;
            margin: 0;
        }

        .ui-resizable-se {
            height: 10px;
            width: 10px;
            background-color: rgba(0, 0, 0, 0.3);
            position: absolute;
            bottom: 2px;
            right: 1px;
        }

        div#ConfirmSuperAdmindiv textarea {
            max-height: 100%;
            min-height: 150px;
        }

        .pull_right {
            float: right;
            margin: 4px;
        }

        .pull_left {
            float: left;
            margin: 4px;
        }

        .cov_back {
            margin-top: -31px !important;
            margin-right: 270px !important;
        }
    </style>
    <script type="text/javascript">

        $(document).ready(function () {

            var split1 = window.location.pathname.split('/');
            var split = split1[split1.length - 1];
            $('#li_' + split).removeClass('d-active-new');
            $('#li_' + split).addClass('active-new');
            
            $('#ulLink li').each(function () {
                var id = $(this).attr('id');
                //alert(split + "   " + id);
                if (id.toLowerCase() != 'li_' + split.toLowerCase()) {
                    $(this).addClass('d-active-new');
                    $(this).removeClass('active-new');
                } else {
                    $('#li_' + split).removeClass('d-active-new');
                    $('#li_' + split).addClass('active-new');
                }

            })
            
            if (('li_' + split.toLowerCase()) == "li_MakeNonClientPayment".toLowerCase()) {
                $('#div_Next').hide();
                $('#div_Back').hide();
               
            }
            if (('li_' + split.toLowerCase()) == "li_LisenceAggrement".toLowerCase()) {
                $('#div_Next').hide();
                $('#div_Back').hide();

            }
            if (('li_' + split.toLowerCase()) == "li_SetupCompnayProfile".toLowerCase()) {
                $('#div_Back').hide();
                $('#div_Next').hide();
                $('#lbl_BusinessName').html('Company/Last Name');
               


            }
            
        })



    </script>
</head>

<div id="ConfirmdivAdmin" class="popup" style="background-clip: padding-box; min-height: 390px; min-width: 520px; background-color: #FFFFFF; padding: 10px; border: 1px solid rgba(0, 0, 0, 0.3); border-radius: 6px 6px 6px 6px; box-shadow: 0 3px 7px rgba(0, 0, 0, 0.3); outline: 0 none; left: 45%;display: none; position: absolute; margin: 0px 0 0 0px !important; float: right;">
        <div style="float: right; width: 15px; height: 15px; top: 5px;">
            <a style="cursor: pointer;">
                <img id="btnGudielose" src="~/Content/images/Close-Icon-mail.png" width="15" height="15" alt="" border="0" /></a>
        </div>
        <h4>System User Guide</h4>
       
        
            <div id="lblGuideInst" style="margin-left: 5px; margin-top: 40px; overflow: auto; width: 95%; height: 80%; left: 1%; top: 1%; right: 1%; position: absolute; resize: both; border: 1px solid rgba(0, 0, 0, 0.3); min-height: 340px; min-width: 485px;">
        </div>
        
        <div style="float: left; height: 30px;">
        </div>
       
          </div>


@* Start Get Configuration Settings *@
@{
    DecisionPointEngine objDecisionPointEngine = new DecisionPointEngine();
    ConfiguratonSettingRequest objConfiguratonSettingRequest = new ConfiguratonSettingRequest();
    if (!object.Equals(Session["UserId"], null))
    {
        objConfiguratonSettingRequest = objDecisionPointEngine.GetConfigSetting(Convert.ToString(Session["CompanyId"], CultureInfo.InvariantCulture));
    }
}
@* End Get Configuration Settings *@

<body>
    @if (!object.Equals(objConfiguratonSettingRequest, null))
    {
        
        if (objConfiguratonSettingRequest.IsClient)
        {
        <input type="hidden" class="isclient" value="1" />}
        else
        {<input type="hidden" class="isclient" value="0" />}
    }
    else
    {<input type="hidden" class="isclient" value="1" />}

    <div id='header'>
        <div class='navbar navbar-static-top'>
            <div class='navbar-inner'>
                <div class='container'>
                    <a class='btn btn-navbar' data-target='.nav-collapse' data-toggle='collapse'>
                        <span class='icon-bar'></span>
                        <span class='icon-bar'></span>
                        <span class='icon-bar'></span>
                    </a>
                    <div class='brand'>
                        <a class='brand'>ComplianceTracker</a>
                    </div>
                    <div class='container nav-collapse'>
                        <ul class='nav pull-right'>
                            <li>
                                @Html.ActionLink("Sign Out", "LogOut", "Login")

                            </li>
                            @if (Convert.ToString(Session["IsSuperAdmin"]) != string.Empty)
                            {
                                if (Session["IsSuperAdmin"].ToString().Trim() == "Yes".Trim())
                                {
                                <li id="SuperAdminInstruction"><a id="GuideInstruction" style="cursor: pointer; margin-left: 20px;">Guide</a> </li>
                                }
                                else
                                { 
                                <li id="AdminInstruction"><a id="GetInstruction" style="cursor: pointer; margin-left: 20px;">Guide</a> </li>
                                }
                            }
                            else
                            { 
                                <li id="AdminInstruction"><a id="GetInstruction" style="cursor: pointer; margin-left: 20px;">Guide</a> </li>
                            }
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <section class="content-wrapper main-content clear-fix" id="sectionid">
        <div id='content'>
            <div class='container'>
                <div class='row'>
                    <div class='span7'>
                        @if (!string.IsNullOrEmpty(Convert.ToString(Session["logopath"], System.Globalization.CultureInfo.InvariantCulture)))
                        {                              
                            <img id="companylogo" src="@Session["logopath"]" />                               
                        }
                    </div>
                    <div style="float: right; font-size: 15px; margin-top: -20px;">
                        @if (Request["Type"] != null)
                        {
                            if (Request["Type"] == "IC")
                            {
                            <div>IC ID: @Session["CompanyId"]</div> 
                            }
                            else
                            {
                            <div>Company ID: @Session["CompanyId"]</div>
                            }
                        }
                        else
                        {
                            <div>Company ID: @Session["CompanyId"]</div>
                        }

                    </div>
                </div>
                <div id="company-setup" style="width: 100%; margin-left: 0px; margin-bottom: 30px;">
                    <h3>Client Account Set Up</h3>
                    <div class="gray_back">
                       <ul id="ulLink" class="nav nav-pills">
                                <li id="li_SetupCompnayProfile" class="active-new"><a href="../Company/SetupCompnayProfile?Type=NonClient">
                                   <div class="text-div">
                                        Company Account Set Up<div class="dot_div"></div>                                  
                                    </div>
                                </a></li>
                           <li id="li_LisenceAggrement" class="active-new"><a href="../Login/LisenceAggrement?Type=NonClient">
                                   <div class="text-div">
                                        License
                                    <div class="dot_div"></div>
                                    </div>
                                </a></li>
                                <li id="li_MakeNonClientPayment" class="d-active-new"><a href="../Company/MakeNonClientPayment">
                                    <div class="number-div"></div>
                                    <div class="text-div">
                                        IC Overview
                                    </div>
                                </a></li>
                              
                            </ul>
                    </div>
                </div>
                <input type="hidden" id="hid_Error" value="" />
                <div class='content-box'>
                    @RenderBody()
                </div>
                <div style="float: left; color: red;" id="div_Error"></div>
                <div id="div_Next" class="btn btn-primary">Next</div>
                <div id="div_Back" class="btn btn-primary">Back</div>

            </div>
        </div>
    </section>

    <div id='footer'>
        <div class='container'>
            <div class='row'>
                <div class='span6'>
                </div>
                <div class='span6'>
                    <div class='text-right'>
                        Copyright 2014 &sdot; All rights reserved
                    </div>
                </div>
            </div>
        </div>
    </div>

</body>
<script src="~/Scripts/jquery-ui.1.10.4.js"></script>
<script type="text/javascript">

    $("#AdminInstruction").click(function (event) {

        $.ajax({
            url: '@Url.Content("~/CompanyDashBoard/GetGuideInstruction/")',
            type: 'GET',
            cache: false,
            data: { IsActive: false },
            success: function (result) {

                $('#lblGuideInst').append(result);
                var top = $('#AdminInstruction').position();
                $('#ConfirmdivAdmin').animate({ 'top': top.top + 60 }).css("display", "block");
                $("#licompanyDashboard").removeClass("active");
                $("#SuperAdminInstruction").addClass("active");

            },
            error: function (result) {


            }
        })

    })

    $(function () { $("#ConfirmdivAdmin").draggable({ containment: "window" }); });


    $("#ConfirmdivAdmin").resizable({

        minWidth: 150,
        minHeight: 150,
        maxWidth: ($(window).width() - 100),
        maxHeight: ($(window).height() - 100),
        resize: function (event, ui) {
            var ed = tinymce.activeEditor;
            var width = parseFloat($(this).width()) - 10;
            var height = parseFloat($(this).height()) - 170;
            ed.theme.resizeTo(width, height);
        },
        stop: function (event, ui) {


        }

    });

    $('#btnGudielose').click(function () {
        $('#ConfirmdivAdmin').css("display", "none");
        $("#licompanyDashboard").addClass("active");
        $("#SuperAdminInstruction").removeClass("active");
        $('#lblGuideInst').text("");
    })
</script>
</html>
